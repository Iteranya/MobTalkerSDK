{
  "initial_state": "start",
  "variables": {
    "aff": 0,
    "gamemode": "None for now"
  },
  "states": {
    "start": {
      "actions": [
        {
          "type": "show_sprite",
          "sprite": "cupa/default/normal.png"
        },
        {
          "type": "dialogue",
          "speaker": "???",
          "content": "Hmm?"
        },
        {
          "type": "dialogue",
          "speaker": "Narrator",
          "content": "The girl standing before you was strange. She looks like a human wearing a creeper hoodie, is she lost?"
        },
        {
          "type": "dialogue",
          "speaker": "???",
          "content": "Oh, a player, hey"
        }
      ],
      "choices": {
        "hi": "Hi?",
        "who": "Who are you?",
        "engarde": "EN GARDE!!!"
      }
    },
    "hi": {
      "actions": [
        {
          "type": "modify_variable",
          "variable": "aff",
          "operation": "increment",
          "value": 5
        },
        {
          "type": "show_sprite",
          "sprite": "cupa/default/happy.png"
        },
        {
          "type": "dialogue",
          "speaker": "???",
          "content": "Hi! Didn't expect to meet you, ever..."
        },
        {
          "type": "dialogue",
          "speaker": "Player",
          "content": "You know me?"
        },
        {
          "type": "show_sprite",
          "sprite": "cupa/default/normal.png"
        },
        {
          "type": "dialogue",
          "speaker": "???",
          "content": "Oh for sure! You're 'The Player"
        },
        {
          "type": "dialogue",
          "speaker": "Player",
          "content": "Is that a big deal?"
        },
        {
          "type": "show_sprite",
          "sprite": "cupa/default/happy.png"
        },
        {
          "type": "dialogue",
          "speaker": "???",
          "content": "Is it a big deal for a creeper to look like a chick?"
        },
        {
          "type": "transition",
          "action": "jump",
          "label": "who"
        }
      ]
    },
    "who": {
      "actions": [
        {
          "type": "show_sprite",
          "sprite": "cupa/default/normal.png"
        },
        {
          "type": "dialogue",
          "speaker": "Player",
          "content": "Who are you?"
        },
        {
          "type": "dialogue",
          "speaker": "???",
          "content": "Who am I? A creeper~"
        }
      ],
      "choices": {
        "introduction": "Ask her name",
        "ask_item": "Ask for Gunpowder"
      }
    },
    "introduction": {
      "actions": [
        {
          "type": "dialogue",
          "speaker": "Player",
          "content": "What should I call you?"
        },
        {
          "type": "modify_variable",
          "variable": "aff",
          "operation": "increment",
          "value": 5
        },
        {
          "type": "show_sprite",
          "sprite": "cupa/default/shy.png"
        },
        {
          "type": "dialogue",
          "speaker": "???",
          "content": "Aww, a player asked my name instead of asking for gunpowder"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "But you can call me Cupa~"
        }
      ],
      "choices": {
        "gunpowder": "Great, Nice to meet you, can we end this peacefully?",
        "engarde": "So... since you're a creeper... does that mean we're gonna duke it out?"
      }
    },
    "ask_item": {
      "actions": [
        {
          "type": "conditional",
          "condition": "greater_than",
          "variable": "aff",
          "value": 3,
          "actions": [
            {
              "type": "show_sprite",
              "action": "show",
              "sprite": "cupa/default/angry.png"
            },
            {
              "type": "dialogue",
              "action": "say",
              "label": "Cupa",
              "content": "It's Cupa, by the way, ugh... The nerve..."
            },
            {
              "type": "transition",
              "action": "jump",
              "label": "gunpowder"
            }
          ]
        },
        {
          "type": "show_sprite",
          "sprite": "cupa/default/angry.png"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "I don't know, do you got diamonds on you?"
        }
      ],
      "choices": {
        "yes": "Yes...",
        "no": "No..."
      }
    },
    "yes": {
      "actions": [
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "I was being rhetoric"
        },
        {
          "type": "dialogue",
          "speaker": "Player",
          "content": "I mean... I can lend you some..."
        },
        {
          "type": "transition",
          "action": "jump",
          "label": "engarde"
        }
      ]
    },
    "no": {
      "actions": [
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "I was being rhetoric"
        },
        {
          "type": "dialogue",
          "speaker": "Player",
          "content": "I mean..."
        },
        {
          "type": "transition",
          "action": "jump",
          "label": "engarde"
        }
      ]
    },
    "engarde": {
      "actions": [
        {
          "type": "show_sprite",
          "sprite": "cupa/default/normal.png"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "Since you're asking for a fight, why don't we?"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "You're not on hardcore, right?"
        },
        {
          "type": "modify_variable",
          "variable": "gamemode",
          "operation": "set",
          "value": {
            "type": "get_gamemode",
            "action": "get_gamemode"
          }
        },
        {
          "type": "conditional",
          "condition": "equal",
          "variable": "gamemode",
          "value": "hardcore",
          "actions": [
            {
              "type": "show_sprite",
              "action": "show",
              "sprite": "cupa/default/scared.png"
            },
            {
              "type": "dialogue",
              "action": "say",
              "label": "Cupa",
              "content": "What the hell?!"
            },
            {
              "type": "dialogue",
              "action": "say",
              "label": "Cupa",
              "content": "You're not supposed to play this mod on Hardcore!"
            },
            {
              "type": "show_sprite",
              "action": "show",
              "sprite": "cupa/default/angry.png"
            },
            {
              "type": "dialogue",
              "action": "say",
              "label": "Cupa",
              "content": "Screw it, I'm sending you back to World Creation, the hard way!"
            }
          ]
        },
        {
          "type": "dialogue",
          "speaker": "Player",
          "content": "What does that have anything to do with us fighting?"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "It means I respawn after death"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "Anyway, let's duke it out! I think I got a few gunpowders in my pocket~"
        },
        {
          "type": "finish_dialogue"
        }
      ]
    },
    "gunpowder": {
      "actions": [
        {
          "type": "show_sprite",
          "sprite": "cupa/default/normal.png"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "Hmm... You know what? You're not that bad a person"
        },
        {
          "type": "give_item",
          "item": "minecraft:gunpowder",
          "amount": 6
        },
        {
          "type": "show_sprite",
          "sprite": "cupa/default/happy.png"
        },
        {
          "type": "dialogue",
          "speaker": "Cupa",
          "content": "Pop off stranger!"
        },
        {
          "type": "finish_dialogue"
        }
      ]
    }
  }
}